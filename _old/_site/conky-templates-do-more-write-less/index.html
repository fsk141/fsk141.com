
<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Conky Templates (Do more, Write Less)</title>
		<meta name="description" content="Conky is a powerful tool that gives you information and statistics about your PC. With all of the possible variables that you can choose from, and multiple things you can monitor it becomes easy to have a bloated config. Repeated content, color associations, naming conventions, etc. Repetitive information such as network interfaces, cpu monitoring, and hdd info can easily be templated. Not only to make your config easier to read, but will save you a caboodle of keystrokes from not having to type repetitive content.">
		<meta name="author" content="Jonny">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<!-- HTML5 for IE -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
			<![endif]-->

	    <!-- Style -->
	    <link href="/assets/themes/fsk141/css/bootstrap.min.css" rel="stylesheet">
		<link href="/assets/themes/fsk141/css/bootstrap-responsive.min.css" rel="stylesheet">
		<link href="/assets/themes/fsk141/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
		<link href="/assets/themes/fsk141/css/pygmentize.css" rel="stylesheet">

		<!-- apple icons go here -->
	</head>

	<body>
		<div class="container-fluid">
			<div class="row-fluid">
			  <div class="span3 well">
				<h1><a class="brand" href="/">Fsk141</a></h1>
				<h3 class="h2link"></h2>
				<h3 class="h2link"></h2>
				<h3 class="h2link">


  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  


</h2>
				<br>
				<div class="misc vcard">
					<h4>about</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Jonny</span> - <span class="fn email">jonny@fsk141.com</span></address></li>
						<li class="rss"><a href="http://feeds.feedburner.com/Fsk141">Subscribe to RSS Feed</a></li>
						<li class="github"><a href="http://github.com/fsk141/" rel="me">github.com/fsk141</a></li>
						<li class="twitter"><a href="http://twitter.com/fsk141/" rel="me">twitter.com/fsk141</a></li>
						<!-- <li class="reddit"><a href="http://reddit.com/user/fsk141/" rel="me">reddit.com/user/fsk141</a></li> -->
						<!-- <li class="flickr"><a href="http://flickr.com/photos/fsk141/" rel="me">flickr.com/photos/fsk141</a></li> -->
						<li class="lastfm"><a href="http://last.fm/user/fsk141/" rel="me">last.fm/user/fsk141</a></li>
						<li class="btc_donate">Donate some btc's:<br />
							<span style="font-size: 0.5em;">
							<script src="http://coinwidget.com/widget/coin.js"></script>
							<script>
							CoinWidgetCom.go({
								wallet_address: "1ByZeEBE2wtUabcAhgPEp7yjttFJJZWDdT"
								, currency: "bitcoin"
								, counter: "count"
								, alignment: "bl"
								, qrcode: true
								, auto_show: false
								, lbl_button: "Donate"
								, lbl_address: "BTC Address:"
								, lbl_count: "donations"
								, lbl_amount: "BTC"
							});
							</script>
							</span></li>
					</ul>
					<ul class="tag_box inline">
						
						


  
     
    	<li><a href="/categories.html#programming-ref">
    		programming <span>11</span>
    	</a></li>
     
    	<li><a href="/categories.html#software-ref">
    		software <span>16</span>
    	</a></li>
     
    	<li><a href="/categories.html#zfs-ref">
    		zfs <span>4</span>
    	</a></li>
     
    	<li><a href="/categories.html#linux-ref">
    		linux <span>50</span>
    	</a></li>
     
    	<li><a href="/categories.html#opensolaris-ref">
    		opensolaris <span>9</span>
    	</a></li>
     
    	<li><a href="/categories.html#networking-ref">
    		networking <span>9</span>
    	</a></li>
     
    	<li><a href="/categories.html#hardware-ref">
    		hardware <span>9</span>
    	</a></li>
     
    	<li><a href="/categories.html#homebrew-ref">
    		homebrew <span>3</span>
    	</a></li>
     
    	<li><a href="/categories.html#other stuff-ref">
    		other stuff <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#tutorials-ref">
    		tutorials <span>8</span>
    	</a></li>
     
    	<li><a href="/categories.html#mac-ref">
    		mac <span>3</span>
    	</a></li>
     
    	<li><a href="/categories.html#photography-ref">
    		photography <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#kindle-ref">
    		kindle <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#reviews-ref">
    		reviews <span>3</span>
    	</a></li>
     
    	<li><a href="/categories.html#bitcoin-ref">
    		bitcoin <span>2</span>
    	</a></li>
    
  


					</ul>
				</div>
				<p>&copy; Jonny 2013 with help from <a href="http://jekyllbootstrap.com">Jekyll Bootstrap</a></p>
			  </div>

			  <div class="offset-1" style="padding-top:20px;">
				  
<div class="">
	<h1>Conky Templates (Do more, Write Less) <small></small></h1>
</div>

<div class="row">
  <div class="span8">
    
<h2 id="introduction">Introduction:</h2>
<p>Conky is a powerful tool that gives you information and statistics about your PC. With all of the possible variables that you can choose from, and multiple things you can monitor it becomes easy to have a bloated config. Repeated content, color associations, naming conventions, etc. Repetitive information such as network interfaces, cpu monitoring, and hdd info can easily be templated. Not only to make your config easier to read, but will save you a caboodle of keystrokes from not having to type repetitive content.</p>

<p><a href="/a/2012-09-05-conky/conky_code.png"><img src="/a/2012-09-05-conky/conky_code_600x600.png" /></a></p>

<h2 id="diving-in">Diving in:</h2>
<p>Moving right along, I assume that you know the basics to conky. This isn’t a primer for conky, rather just a primer on conky templates.	Conky templates are one of the more powerful features to conky, and I’m always suprised to see so many people using repetitive code in their ~/.conkyrc. I aim to convert you :)</p>

<p>The conky man page describes templates as such:</p>

<pre><code>templateN
Define a template for later use inside TEXT  segments.  Substitute N  by  a digit between 0 and 9, inclusively. The value of the variable is being inserted into the stuff below TEXT at the corresponding  position,  but before some substitutions are applied:
'\n' -&gt; newline
'\\' -&gt; backslash
'\ ' -&gt; space
'\N' -&gt; template argument N
</code></pre>

<p>Simply put, you have the ability to create functions that you can call from within your ~/.conkyrc. To get started lets draft a sample template &amp;.</p>

<h3 id="declaring-the-template">Declaring the template:</h3>
<p>Open your ~/.conkyrc with your favorite text editor, and start by declaring a template:</p>
<div>
    <pre><code class="bash">#template0 (cpu) 1:name 2:number
template0 ${color0}\1) ${color}${freq_g \2}Ghz | ${cpu \2}% ${alignr}${cpubar \2 5,70}</code></pre>
  </div>

<p>The following code is what I use for CPU monitoring in my .conkyrc. The first line is a comment defining the template:</p>

<pre><code>#template0 -- name of the template (must be in the form of templateN (where N is a number 1-10)
(cpu) -- friendly name
1:name -- name to display on conky output
2:number -- number of cpu to pull stats from
</code></pre>

<p>To specify a new variable, you just need a backslash followed by a number. As you can see in my example I have \1 &amp; \2.</p>

<pre><code>template0 -- template number
${color0}\1) -- name of cpu -- 1)
${color} -- everything after this be std color (defined at top of config)
${freq_g \2}Ghz | -- get frequency of cpu -- 1.60Ghz |
${cpu \2}% -- get % cpu utilization -- 10%
$alignr}${cpubar \2 5,70} -- show graph of current utilization
</code></pre>

<h3 id="calling-the-template-in-your-conkyrc">Calling the template in your ~/.conkyrc</h3>
<p>Now that you have the building blocks setup, let’s call the template, and put it to use:</p>
<div>
    <pre><code class="bash">TEXT
${color0}UpTime: ${color}$uptime
${color0}Kernel: ${color}$kernel
 ${template0 1 cpu0}
 ${template0 2 cpu1}
 ${template0 3 cpu2}
 ${template0 4 cpu3}</code></pre>
  </div>

<p>This is the first few lines of my TEXT portion of ~/.conkyrc (the parsable section of conky) I’m displaying the uptime, kernel version, and then using the cpu template (template0) to display my processor stats. To call the template use the template name, and provide the variables. (first variable is name, second is cpu identifier)</p>

<p>You will end up with something like the following:</p>

<p><a href="/a/2012-09-05-conky/conky_cpu-template.png"><img src="/a/2012-09-05-conky/conky_cpu-template_600x600.png" /></a></p>

<p>Imagine if you wanted to display the same thing without templates, as you can see, templates rock!:</p>
<div>
    <pre><code class="bash">${color0}1) ${color}${freq_g cpu0}Ghz | ${cpu cpu0}% ${alignr}${cpubar cpu0 5,70}
${color0}2) ${color}${freq_g cpu1}Ghz | ${cpu cpu1}% ${alignr}${cpubar cpu1 5,70}
${color0}3) ${color}${freq_g cpu2}Ghz | ${cpu cpu2}% ${alignr}${cpubar cpu2 5,70}
${color0}4) ${color}${freq_g cpu3}Ghz | ${cpu cpu3}% ${alignr}${cpubar cpu3 5,70}</code></pre>
  </div>

<p>I have included my current ~/.conkyrc for a few examples relating to templates (I template everything!)</p>

<div>
    <pre><code class="bash">background no
update_interval 2.0
total_run_times 0
own_window yes
own_window_transparent yes
own_window_type override
double_buffer yes
maximum_width 300 
draw_shades no
draw_outline yes
draw_borders no
stippled_borders 0
border_width 1
color0 ffffff
default_color d9d9d9
default_shade_color c80000
default_outline_color 383838
alignment middle_right
gap_x 25
gap_y 15
no_buffers yes
cpu_avg_samples 2
net_avg_samples 2
text_buffer_size 2048

#template0 (cpu) 1:name 2:number
template0 ${color0}\1) ${color}${freq_g \2}Ghz | ${cpu \2}% ${alignr}${cpubar \2 5,70}

#template1 (memory) 1:name 2:type
template1 ${color0}\1   ${color}${\2perc}%/${\2max} ${alignr}${\2bar 5,70}

#template2 (hdd) 1:name 2:mountpoint
template2 ${color0}\1   ${color}${fs_used \2}/${fs_size \2} ${alignr}${fs_bar 5,70 \2}

#template3 (network - wired) 1:name 2:interface
template3 ${if_up \2}${color0}\1 ${color}${addr \2}\n ${color0}Down: ${color}${downspeed \2} \n   ${color0}Total Down: ${color}${totaldown \2} ${alignr}${voffset -8}${downspeedgraph \2 10,70}\n\n  ${color0}Up: ${color}${upspeed \2}\n   ${color0}Total Up: ${color}${totalup \2} ${alignr}${voffset -8}${upspeedgraph \2 10,70}${endif}

#template4 (network - wireless) 1:name 2:interface
template4 ${if_up \2}${color0}\1 ${color}${addr \2}@${wireless_essid \2} | ${wireless_link_qual_perc \2}%\n  ${color0}Down: ${color}${downspeed \2} \n   ${color0}Total Down: ${color}${totaldown \2} ${alignr}${voffset -8}${downspeedgraph \2 10,70}\n\n  ${color0}Up: ${color}${upspeed \2}\n   ${color0}Total Up: ${color}${totalup \2} ${alignr}${voffset -8}${upspeedgraph \2 10,70}${endif}


TEXT
${color0}UpTime: ${color}$uptime
${color0}Kernel: ${color}$kernel
 ${template0 1 cpu0}
 ${template0 2 cpu1}
 ${template0 3 cpu2}
 ${template0 4 cpu3}

${color0}Memory:
 ${template1 Mem mem}
 ${template1 Swap swap}

${color0}Disks:
 ${template2 /root /}
 ${template2 /home /home}

${color0}Network:
 ${template3 eth0 eth0}${template3 usb0 usb0}${template4 wlan0 wlan0}

${color0}Tasks:
${execi 5 for i in `/usr/bin/todo.sh -n -d ~/Dropbox/Public/todo.txt/todo.cfg lsprj`;
do echo -e &quot;\n$i:\n`/usr/bin/todo.sh -n -d ~/Dropbox/Public/todo.txt/todo.cfg ls | grep $i | sed &#39;s/^[0-9][0-9]//&#39;`&quot;
done}</code></pre>
  </div>

<p>Which ends up looking like this:</p>

<p><a href="/a/2012-09-05-conky/conky_config-display.png"><img src="/a/2012-09-05-conky/conky_config-display_600x600.png" /></a></p>

<h2 id="conclusion">Conclusion</h2>
<p>Templates have been around for quite some time, yet a lot of ~/.conkyrc’s floating on the internet don’t take advantage of templating power. Spend a few minutes and update your config, not only will your config become smaller, but will instantly gain attractiveness &amp; readibility.</p>

    <hr>

	<h3>Related posts</h3>
	<ul>
		
		  <li><a href="/rtorrent-the-complete-guide">rTorrent -- The complete guide <i>(December 31, 2011)</i></a></li>
		  
		  <li><a href="/kernel-compilation-arch-linux">Kernel Compilation &amp; Arch Linux <i>(March 31, 2009)</i></a></li>
		  
		  <li><a href="/review-pc-engines-alix6e1">[Review] PC-Engines alix6e1 <i>(November 07, 2010)</i></a></li>
		  
		  <li><a href="/my-fear-of-mutt-and-why-it-was-all-for-null">My fear of mutt, and why it was all for NULL <i>(October 24, 2011)</i></a></li>
		  
		  <li><a href="/potw-bwm-hg">[PotW] bwm-hg <i>(October 26, 2010)</i></a></li>
		  
		  <li><a href="/a-lotto-c">A lotto C <i>(December 16, 2010)</i></a></li>
		  
		  <li><a href="/potw-tmux">[PotW] tmux <i>(October 13, 2010)</i></a></li>
		  
		  <li><a href="/tutorial-openvz-debian-zenoss-monitor-your-world">[Tutorial] OpenVZ - Debian - Zenoss (monitor your world) <i>(October 08, 2010)</i></a></li>
		  
		  <li><a href="/slow-zfs-zpool">Slow ZFS zpool? <i>(October 06, 2010)</i></a></li>
		  
		  <li><a href="/entering-walled-gardens">Entering Walled Garden's <i>(September 16, 2011)</i></a></li>
		  
	</ul>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/the-playful-side-of-ls" title="The playful side of ls">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/gsl-fix-archlinux" title="GSL Fix Arch Linux (Downgrade to 1.14)">Next &rarr;</a></li>
      
      </ul>
    </div>
  </div>

  <div class="">
    <h4>Published</h4>
    <div class="date"><span>05 September 2012</span></div>

  
    <h4>Tags</h4>
    <ul class="tag_box">
    
    


  
     
    	<li><a href="/tags.html#conky-ref">conky <span>1</span></a></li>
     
    	<li><a href="/tags.html#conky templates-ref">conky templates <span>1</span></a></li>
    
  



    </ul>
  
  </div>
</div>

<div class="row">
  <div class="span10 offset2">
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'fsk141'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


			  </div>

		  </div>
	  </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/fsk141/js/jquery.min.js"><\/script>')</script>
    <script src="/assets/themes/fsk141/js/bootstrap.min.js"></script>

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://analytics.fsk141.com/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
    g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="http://analytics.fsk141.com/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->

  </body>
</html>

